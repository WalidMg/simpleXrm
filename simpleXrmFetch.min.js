var simpleXrmFetch={filter:function(n){var i="",r="",t;if(!!n){if(n.type&&!!n.conditions&&n.conditions.length>0){for(i+="<filter type='"+n.type+"'>",r+="<\/filter>",t=0;t<n.conditions.length;t++)!n.conditions[t].attribute||!n.conditions[t].operator||(i+="<condition attribute='"+n.conditions[t].attribute+"' operator='"+n.conditions[t].operator+"' ",!n.conditions[t].uiname||(i+="uiname='"+n.conditions[t].uiname+"' "),!n.conditions[t].uitype||(i+="uitype='"+n.conditions[t].uitype+"' "),!n.conditions[t].value||(i+="value='"+n.conditions[t].value+"' "),i+="/>");!n.filter||(i+=simpleXrmFetch.filter(n.filter))}return i+r}},order:function(n){var i,t;if(!!n.order&&n.order.length>0)for(n.order.length>2&&(n.order=n.order.slice(0,2)),t=0;t<n.order.length;t++)i+="<order attribute='"+n.order[t].attribute+"'",i+=n.order[t].descending?" descending='true'":" descending='false'",i+=" />";return i},attributes:function(n){var i="",t;if(n.length>0)for(t=0;t<n.length;t++)i+="<attribute name='"+n[t].name+"'",!n[t].alias||(i+=" alias='"+n[t].alias+"'"),i+=" />";return i},linkEntity:function(n){var i="",r="",t;if(!!n&&n.length>0)for(t=0;t<n.length;t++)!n[t].name||!n[t].from||!n[t].to||(i+="<link-entity name='"+n[t].name+"' from='"+n[t].from+"' to='"+n[t].to+"'",r="<\/link-entity>"+r,n[t].visible===!1&&(i+=" visible='false'"),!n[t].intersect||(i+=" intersect='true'"),!n[t].alias||(i+=" alias='"+n[t].alias+"'"),i+=">",!!n[t].attributes&&n[t].attributes.length>0&&(i+=simpleXrmFetch.attributes(n[t].attributes)),!n[t].filter||(i+=simpleXrmFetch.filter(n[t].filter)),!n[t].linkEntity||simpleXrmFetch.linkEntity(n[t].linkEntity));return i+r},fetch:function(n){var t="<fetch version='1.0' output-format='xml-platform' mapping='logical'",i;return t+=n.distinct?" distinct='true'":"distinct='false'",t+=">",i="<\/fetch>",!n.entity||(t+="<entity name='"+n.entity+"'>",i="<\/entity>"+i),!!n.attributes&&n.attributes.length>0&&(t+=simpleXrmFetch.attributes(n.attributes)),!n.filter||(t+=simpleXrmFetch.filter(n.filter)),!n.linkEntity||(t+=simpleXrmFetch.linkEntity(n.linkEntity)),t+i},addCustomFilter:function(n){Xrm.Page.getControl(n.control).addCustomFilter(n.filter,n.entityType)},addCustomView:function(n){var t=n.viewId||simpleXrm.newBracedGuid();Xrm.Page.getControl(n.control).addCustomView(t,n.entityType,n.viewDisplayName,n.fetchXml,n.layoutXml,n.isDefault)},addPreSearch:function(n){Xrm.Page.getControl(n.control).addPreSearch(n.preSearchHandler)}};
//# sourceMappingURL=simpleXrmFetch.min.js.map
